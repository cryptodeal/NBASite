const mongoose = require('mongoose');
//mongoose.set('debug', true);
const Schema = mongoose.Schema;

const ScopeApp = new Schema ({
  user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', index: true, many: true },
  scope: {type: String, enum: ['admin', 'contributor', 'moderator'], required: true, index: true },
  state: { type: String, enum: ['pending review', 'approved', 'rejected'], default: 'pending review', required: true, index: true },
  justification: { type: String, required: true },
  qualifications: { type: String, required: true }
});

export default mongoose.models.ScopeApp || mongoose.model('ScopeApp', ScopeApp);
